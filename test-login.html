<!DOCTYPE html>
<html>
<head>
    <title>로그인 테스트</title>
</head>
<body>
    <h1>로그인 테스트 페이지</h1>
    <button onclick="setTokenAndRedirect()">관리자로 로그인하고 메인 페이지로 이동</button>
    <button onclick="clearTokenAndRedirect()">로그아웃하고 메인 페이지로 이동</button>
    
    <script>
        function setTokenAndRedirect() {
            // 유효한 토큰과 사용자 정보 설정
            const token = "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJ1c2VySWQiOiJ1c2VyX2FkbWluIiwiZmFtaWx5SWQiOiJmYW1pbHlfZGVtbyIsInJvbGUiOiJhZG1pbiIsInVzZXJuYW1lIjoi6rSA66as7J6QIiwiaWF0IjoxNzU1NDAzMDI1LCJleHAiOjE3NTYwMDc4MjV9.BwEjnykt2faV76Ji2hALX_-DKirOkT8UbU2nxBdmqvM";
            const user = {
                "id": "user_admin",
                "username": "관리자",
                "role": "admin",
                "avatar": "👨‍💼",
                "familyId": "family_demo",
                "permissions": ["*"]
            };
            
            localStorage.setItem('familyAuthToken', token);
            localStorage.setItem('currentUser', JSON.stringify(user));
            
            console.log('토큰과 사용자 정보 설정 완료');
            console.log('Token:', token.substring(0, 20) + '...');
            console.log('User:', user.username);
            
            // 메인 페이지로 이동
            setTimeout(() => {
                window.location.href = '/';
            }, 500);
        }
        
        function clearTokenAndRedirect() {
            localStorage.removeItem('familyAuthToken');
            localStorage.removeItem('currentUser');
            console.log('토큰 제거 완료');
            
            // 메인 페이지로 이동
            setTimeout(() => {
                window.location.href = '/';
            }, 500);
        }
    </script>
</body>
</html>