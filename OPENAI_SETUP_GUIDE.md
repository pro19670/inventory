# 🤖 OpenAI GPT 연동 가이드

## 📋 개요

AI물품관리 시스템은 **하이브리드 지능형 챗봇**을 제공합니다:
- **실제 OpenAI GPT**: API 키가 있을 때 사용
- **고급 로컬 AI**: API 키가 없어도 GPT급 성능 제공

## 🔑 실제 OpenAI API 키 설정 방법

### 1단계: OpenAI API 키 발급
1. [OpenAI Platform](https://platform.openai.com) 방문
2. 계정 생성 또는 로그인
3. API Keys 섹션에서 새 키 생성
4. 생성된 키 복사 (sk-proj-... 또는 sk-... 형태)

### 2단계: 환경변수 설정
`.env` 파일에서 API 키를 교체하세요:

```env
# 현재 (데모용)
OPENAI_API_KEY=your_actual_openai_api_key_here

# 실제 키로 교체 (예시)
OPENAI_API_KEY=sk-proj-abcd1234efgh5678ijkl9012mnop3456qrst7890uvwx1234yz5678abcdef12
```

### 3단계: 서버 재시작
```bash
pm2 restart smart-inventory --update-env
```

## 🎯 기능 비교

| 기능 | 고급 로컬 AI | 실제 OpenAI GPT |
|------|-------------|-----------------|
| 자연어 이해 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 재고 분석 | ⭐⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 개인화 응답 | ⭐⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 창의적 답변 | ⭐⭐⭐ | ⭐⭐⭐⭐⭐ |
| 비용 | 무료 | 유료 (API 사용량) |
| 속도 | 매우 빠름 | 빠름 |
| 오프라인 | 가능 | 불가능 |

## 🔄 자동 전환 시스템

시스템은 자동으로 다음과 같이 작동합니다:

1. **API 키 유효** → OpenAI GPT 사용
2. **API 키 무효/부족** → 고급 로컬 AI 자동 전환
3. **네트워크 오류** → 로컬 AI 백업 사용
4. **API 한도 초과** → 로컬 AI로 seamless 전환

## 💡 권장사항

### 개발/테스트 환경
- 고급 로컬 AI만으로도 충분한 성능
- 비용 부담 없음
- 빠른 응답 속도

### 프로덕션 환경
- 실제 OpenAI API 키 설정 권장
- 더 자연스러운 대화 가능
- 창의적이고 다양한 응답

## 🚀 테스트 방법

### 현재 모드 확인
챗봇에게 아무 메시지를 보내면 응답 상단에 현재 모드가 표시됩니다:

- `🤖 OpenAI GPT-gpt-3.5-turbo 응답` → 실제 GPT 사용 중
- `🧠 고급 AI 로컬 모드` → 로컬 AI 사용 중
- `🔄 고급 AI 로컬 모드 (OpenAI 연결 실패)` → API 오류로 로컬 전환

### 성능 테스트
다음 질문들로 AI 성능을 테스트해보세요:
- "안녕하세요" - 기본 인사
- "재고 현황 분석해줘" - 데이터 분석
- "냉장고에 뭐가 있어?" - 검색 기능
- "물건 등록하는 방법" - 가이드 제공
- "창의적인 물품 정리 아이디어를 알려줘" - 창의성 테스트

## 📊 API 비용 관리

OpenAI API를 사용할 때 비용 관리 팁:

1. **모델 선택**: `gpt-3.5-turbo`가 비용 효율적
2. **사용량 모니터링**: OpenAI 대시보드에서 확인
3. **한도 설정**: API 사용 한도 설정 권장
4. **하이브리드 활용**: 필요시에만 GPT 사용, 평소엔 로컬 AI

## 🛡️ 보안 고려사항

- ✅ API 키는 환경변수로만 관리
- ✅ 코드에 하드코딩 금지
- ✅ .env 파일을 .gitignore에 포함
- ✅ 프로덕션에서는 별도 키 사용
- ✅ 정기적인 키 순환 권장

---

**💡 결론**: 실제 OpenAI API 키가 없어도 고급 로컬 AI로 충분히 좋은 경험을 제공하며, 언제든지 실제 GPT로 업그레이드 가능합니다!